function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{laS0:function(e,n,t){"use strict";t.r(n);var i,o=t("ofXK"),a=t("tyNb"),l=t("quSY"),r=t("AytR"),s=t("mCNh"),c=t("pLZG"),u=t("lJxs"),b=t("vkgz"),d=t("tk/3"),p=t("fXoL"),f=((i=function(){function e(n){_classCallCheck(this,e),this.httpClient=n}return _createClass(e,[{key:"upload",value:function(e,n){var t=new FormData;return e.forEach((function(e){t.append("file",e,e.name)})),this.httpClient.post(n,t,{observe:"events",reportProgress:!0})}},{key:"download",value:function(e){return this.httpClient.get(e,{responseType:"blob"})}},{key:"handleFile",value:function(e,n){var t=new Blob([e],{type:e.type});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t);else{var i=window.URL.createObjectURL(t),o=document.createElement("a");o.href=i,o.download=n,o.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout((function(){window.URL.revokeObjectURL(i),o.remove()}),100)}}}]),e}()).\u0275fac=function(e){return new(e||i)(p.Sb(d.a))},i.\u0275prov=p.Hb({token:i,factory:i.\u0275fac,providedIn:"root"}),i);function v(e,n){if(1&e&&(p.Ob(0,"div",9),p.Ob(1,"div",10),p.pc(2),p.Nb(),p.Nb()),2&e){var t=n.$implicit;p.zb(2),p.qc(" ",t," ")}}function h(e,n){if(1&e&&(p.Ob(0,"div",7),p.nc(1,v,3,1,"div",8),p.Nb()),2&e){var t=p.Yb();p.zb(1),p.dc("ngForOf",t.fileNames)}}function m(e,n){if(1&e&&(p.Ob(0,"div",7),p.Ob(1,"div",11),p.Ob(2,"div",12),p.pc(3),p.Nb(),p.Nb(),p.Nb()),2&e){var t=p.Yb();p.zb(2),p.mc("width",t.progress+"%"),p.zb(1),p.qc(" ",t.progress," % ")}}var w,g,y=[{path:"",component:(w=function(){function e(n){_classCallCheck(this,e),this.uploadService=n,this.fileNames=[],this.uploading=!1,this.progress=0}return _createClass(e,[{key:"ngOnInit",value:function(){this.subscription$=new l.a}},{key:"ngOnDestroy",value:function(){this.subscription$.unsubscribe()}},{key:"onChange",value:function(e){console.log(e),this.fileNames=[],this.uploading=!1,this.progress=0;var n=e.srcElement.files,t=document.getElementById("labelCustomFile");this.files=new Set;for(var i=0;i<n.length;i++)this.fileNames.push(n.item(i).name),this.files.add(n.item(i));t.innerHTML=this.fileNames.length>1?"M\xfaltiplos arquivos...":1==this.fileNames.length?"Um arquivo apenas...":"Selecionar Arquivo"}},{key:"onUpload",value:function(){var e,n=this;this.files&&this.files.size>=1&&(this.uploading=!0,this.subscription$=this.uploadService.upload(this.files,r.a.BASE_URL+"/upload").pipe((e=function(e){n.progress=e},Object(b.a)((function(n){if(n.type===d.c.UploadProgress){var t=Math.round(100*n.loaded/n.total);e(t)}}))),Object(s.a)(Object(c.a)((function(e){return e.type===d.c.Response})),Object(u.a)((function(e){return e.body})))).subscribe((function(e){return console.log("Upload Conclu\xeddo")})))}},{key:"onDownloadExcel",value:function(){var e=this;this.uploadService.download(r.a.BASE_URL+"/downloadExcel").subscribe((function(n){e.uploadService.handleFile(n,"teste.xlsx")}))}},{key:"onDownloadPdf",value:function(){var e=this;this.uploadService.download(r.a.BASE_URL+"/downloadPDF").subscribe((function(n){e.uploadService.handleFile(n,"teste.pdf")}))}}]),e}(),w.\u0275fac=function(e){return new(e||w)(p.Lb(f))},w.\u0275cmp=p.Fb({type:w,selectors:[["app-upload-file"]],decls:16,vars:3,consts:[[2,"margin-top","10px"],[1,"custom-file"],["type","file","id","inputCustomFile","multiple","",1,"custom-file-input",3,"change"],["for","inputCustomFile","id","labelCustomFile",1,"custom-file-label"],["class","mt-1",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"mt-1"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-body"],[1,"progress"],["role","progressbar",1,"progress-bar"]],template:function(e,n){1&e&&(p.Ob(0,"div",0),p.Ob(1,"div",1),p.Ob(2,"input",2),p.Wb("change",(function(e){return n.onChange(e)})),p.Nb(),p.Ob(3,"label",3),p.pc(4," Selecionar Arquivo "),p.Nb(),p.Nb(),p.Nb(),p.nc(5,h,2,1,"div",4),p.nc(6,m,4,3,"div",4),p.Ob(7,"div",0),p.Ob(8,"button",5),p.Wb("click",(function(e){return n.onUpload()})),p.pc(9," Upload "),p.Nb(),p.Nb(),p.Ob(10,"div",0),p.Ob(11,"button",6),p.Wb("click",(function(e){return n.onDownloadExcel()})),p.pc(12," Download Excel "),p.Nb(),p.Nb(),p.Ob(13,"div",0),p.Ob(14,"button",6),p.Wb("click",(function(e){return n.onDownloadPdf()})),p.pc(15," Download PDF "),p.Nb(),p.Nb()),2&e&&(p.zb(5),p.dc("ngIf",n.files),p.zb(1),p.dc("ngIf",n.uploading),p.zb(2),p.dc("disabled",!n.files))},directives:[o.k,o.j],styles:[""]}),w)}],O=((g=function e(){_classCallCheck(this,e)}).\u0275mod=p.Jb({type:g}),g.\u0275inj=p.Ib({factory:function(e){return new(e||g)},imports:[[a.f.forChild(y)],a.f]}),g);t.d(n,"UploadFileModule",(function(){return C}));var k,C=((k=function e(){_classCallCheck(this,e)}).\u0275mod=p.Jb({type:k}),k.\u0275inj=p.Ib({factory:function(e){return new(e||k)},imports:[[o.c,O]]}),k)}}]);