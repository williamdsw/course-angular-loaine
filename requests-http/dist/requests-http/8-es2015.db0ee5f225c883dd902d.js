(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{laS0:function(e,t,o){"use strict";o.r(t);var n=o("ofXK"),i=o("tyNb"),s=o("quSY"),l=o("AytR"),r=o("mCNh"),c=o("pLZG"),a=o("lJxs"),d=o("vkgz"),b=o("tk/3"),p=o("fXoL");let u=(()=>{class e{constructor(e){this.httpClient=e}upload(e,t){const o=new FormData;return e.forEach(e=>{o.append("file",e,e.name)}),this.httpClient.post(t,o,{observe:"events",reportProgress:!0})}download(e){return this.httpClient.get(e,{responseType:"blob"})}handleFile(e,t){const o=new Blob([e],{type:e.type});if(window.navigator&&window.navigator.msSaveOrOpenBlob)return void window.navigator.msSaveOrOpenBlob(o);const n=window.URL.createObjectURL(o),i=document.createElement("a");i.href=n,i.download=t,i.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(n),i.remove()},100)}}return e.\u0275fac=function(t){return new(t||e)(p.Sb(b.a))},e.\u0275prov=p.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function f(e,t){if(1&e&&(p.Ob(0,"div",9),p.Ob(1,"div",10),p.pc(2),p.Nb(),p.Nb()),2&e){const e=t.$implicit;p.zb(2),p.qc(" ",e," ")}}function h(e,t){if(1&e&&(p.Ob(0,"div",7),p.nc(1,f,3,1,"div",8),p.Nb()),2&e){const e=p.Yb();p.zb(1),p.dc("ngForOf",e.fileNames)}}function m(e,t){if(1&e&&(p.Ob(0,"div",7),p.Ob(1,"div",11),p.Ob(2,"div",12),p.pc(3),p.Nb(),p.Nb(),p.Nb()),2&e){const e=p.Yb();p.zb(2),p.mc("width",e.progress+"%"),p.zb(1),p.qc(" ",e.progress," % ")}}const v=[{path:"",component:(()=>{class e{constructor(e){this.uploadService=e,this.fileNames=[],this.uploading=!1,this.progress=0}ngOnInit(){this.subscription$=new s.a}ngOnDestroy(){this.subscription$.unsubscribe()}onChange(e){console.log(e),this.fileNames=[],this.uploading=!1,this.progress=0;const t=e.srcElement.files,o=document.getElementById("labelCustomFile");this.files=new Set;for(let n=0;n<t.length;n++)this.fileNames.push(t.item(n).name),this.files.add(t.item(n));o.innerHTML=this.fileNames.length>1?"M\xfaltiplos arquivos...":1==this.fileNames.length?"Um arquivo apenas...":"Selecionar Arquivo"}onUpload(){var e;this.files&&this.files.size>=1&&(this.uploading=!0,this.subscription$=this.uploadService.upload(this.files,l.a.BASE_URL+"/upload").pipe((e=e=>{this.progress=e},Object(d.a)(t=>{if(t.type===b.c.UploadProgress){const o=Math.round(100*t.loaded/t.total);e(o)}})),Object(r.a)(Object(c.a)(e=>e.type===b.c.Response),Object(a.a)(e=>e.body))).subscribe(e=>console.log("Upload Conclu\xeddo")))}onDownloadExcel(){this.uploadService.download(l.a.BASE_URL+"/downloadExcel").subscribe(e=>{this.uploadService.handleFile(e,"teste.xlsx")})}onDownloadPdf(){this.uploadService.download(l.a.BASE_URL+"/downloadPDF").subscribe(e=>{this.uploadService.handleFile(e,"teste.pdf")})}}return e.\u0275fac=function(t){return new(t||e)(p.Lb(u))},e.\u0275cmp=p.Fb({type:e,selectors:[["app-upload-file"]],decls:16,vars:3,consts:[[2,"margin-top","10px"],[1,"custom-file"],["type","file","id","inputCustomFile","multiple","",1,"custom-file-input",3,"change"],["for","inputCustomFile","id","labelCustomFile",1,"custom-file-label"],["class","mt-1",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"mt-1"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-body"],[1,"progress"],["role","progressbar",1,"progress-bar"]],template:function(e,t){1&e&&(p.Ob(0,"div",0),p.Ob(1,"div",1),p.Ob(2,"input",2),p.Wb("change",(function(e){return t.onChange(e)})),p.Nb(),p.Ob(3,"label",3),p.pc(4," Selecionar Arquivo "),p.Nb(),p.Nb(),p.Nb(),p.nc(5,h,2,1,"div",4),p.nc(6,m,4,3,"div",4),p.Ob(7,"div",0),p.Ob(8,"button",5),p.Wb("click",(function(e){return t.onUpload()})),p.pc(9," Upload "),p.Nb(),p.Nb(),p.Ob(10,"div",0),p.Ob(11,"button",6),p.Wb("click",(function(e){return t.onDownloadExcel()})),p.pc(12," Download Excel "),p.Nb(),p.Nb(),p.Ob(13,"div",0),p.Ob(14,"button",6),p.Wb("click",(function(e){return t.onDownloadPdf()})),p.pc(15," Download PDF "),p.Nb(),p.Nb()),2&e&&(p.zb(5),p.dc("ngIf",t.files),p.zb(1),p.dc("ngIf",t.uploading),p.zb(2),p.dc("disabled",!t.files))},directives:[n.k,n.j],styles:[""]}),e})()}];let w=(()=>{class e{}return e.\u0275mod=p.Jb({type:e}),e.\u0275inj=p.Ib({factory:function(t){return new(t||e)},imports:[[i.f.forChild(v)],i.f]}),e})();o.d(t,"UploadFileModule",(function(){return g}));let g=(()=>{class e{}return e.\u0275mod=p.Jb({type:e}),e.\u0275inj=p.Ib({factory:function(t){return new(t||e)},imports:[[n.c,w]]}),e})()}}]);